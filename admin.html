<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Portone</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="olliout.css">
	<link rel="stylesheet" href="loader.css">
</head>

<body style="background-color: CORAL;">
    <div class="container">
        <div class="inner-container">
            <br>
            <!-- Welcome card -->
            <div class="card text-center">
                <div class="card-body bg-transparent">
                    <h4 class="card-title">Apriti Sesamo!</h4>
                    <p class="card-text">Mica ti aspettavi che cliccavi su qualcosa ed era fatta?</p>
                    <a href="http://vabbuo.it" class="mt-2 btn btn-success" data-toggle="tooltip" data-placement="left" title="Vabbuò dai guardati ancora due frasi">vabbuo.it</a>
                    <a href="http://olimexsmart.it" class="mt-2 btn btn-danger" data-toggle="tooltip" data-placement="bottom" title="Scopri tutta la storia, in inglese">olimexsmart.it</a>
                </div>
            </div>

            <br>
			
			<!-- Radio buttons -->
			<fieldset class="form-group">
				<div class="row">
					<legend class="col-form-legend col-sm-2"><b>Azione</b></legend>
					<div class="btn-group col-sm-10" data-toggle="buttons">
						<label class="btn btn-secondary">
							<input type="radio" name="action" id="radio1" value="revokeAll" autocomplete="off">Blocca</label>
						<label class="btn btn-secondary">
							<input type="radio" name="action" id="radio2" value="revoke" autocomplete="off">Rimuovi</label>
						<label class="btn btn-secondary active">
							<input type="radio" name="action" id="radio3" value="add" autocomplete="off">Aggiungi</label>
						<label class="btn btn-secondary">
							<input type="radio" name="action" id="radio4" value="check">Prova</label>
					</div>
				</div>
			</fieldset>

            <form id="newsentence" method="post">
                <!-- Text inputs -->
                <div class="form-group row">
					<!-- Administrator inputs -->
                    <label for="n" class="col-sm-2 col-form-label adminname" id="">
                        <b>Admin</b>
                    </label>
                    <div class="col-sm-10 adminname">
                        <input type="text" class="form-control" name="n" id="nome" placeholder="Nome Admin" data-toggle="tooltip" data-placement="top"
                            title="Lettera iniziale Maiuscola">
                    </div>
                    <label for="k" class="mt-2 col-sm-2 col-form-label adminpassword">
                        <b>Password</b>
                    </label>
                    <div class="mt-2 col-sm-10 adminpassword">
                        <input type="password" class="form-control" name="k" id="key" placeholder="Chiave Admin" data-toggle="tooltip" data-placement="top"
                            title="Mi raccomando">
                    </div>
					
					<!-- User inputs -->
                    <label for="un" class="mt-2 col-sm-2 col-form-label username">
                        <b>User</b>
                    </label>
                    <div class="mt-2 col-sm-10 username">
                        <input type="text" class="form-control" name="un" id="usernome" placeholder="Nome Utente" data-toggle="tooltip" data-placement="top"
                            title="Lettera iniziale Maiuscola">
                    </div>
                    <label for="uk" class="mt-2 col-sm-2 col-form-label userpassword">
                        <b>Password</b>
                    </label>
                    <div class="mt-2 col-sm-10 userpassword">
                        <input type="password" class="form-control" name="uk" id="userkey" placeholder="Chiave Utente" data-toggle="tooltip" data-placement="top"
                            title="Mi raccomando">
                    </div>					
					
					
					<!-- Confirm button -->
                    <div class="mt-2 col-sm-12 text-center">
                        <button type="button" class="btn btn-success btn-lg btn-block" data-toggle="tooltip" data-placement="bottom" title="Daje"
                            id="submit">Agisci</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal open -->
    <div class="modal fade" id="open" tabindex="-1" role="dialog" aria-labelledby="thanksLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="thanksLabel">Ma che bravo!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Vieni su, a pra foco caro!
                </div>
                <div class="modal-footer">
                    <a href="http://vabbuo.it" class="mt-2 btn btn-success" data-toggle="tooltip" data-placement="left" title="Vabbuò dai guardati ancora due frasi">Dai entra</a>
                </div>
            </div>
        </div>
    </div>
	
    <!-- Modal close -->
    <div class="modal fade" id="close" tabindex="-1" role="dialog" aria-labelledby="thanksLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="thanksLabel">Che coraggio!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Ma ti è andata male, riprova un po' dai. Ricordati che il cognome deve cominciare con la maiuscola, come ti insegnavano alle elementari.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Riprova belin</button>
                </div>
            </div>
        </div>
    </div>	

	<div id="loader"></div>

    <script>
		res = [];
        $(function () {
            $('[data-toggle="tooltip"]').tooltip();
			$('#radio3')[0].checked = true;
			// Modifing the visibility of the UI
			// elements depending on the desired action
			$('#radio1').on('change', function () {
				$('.adminname').show();
				$('.adminpassword').show();
				$('.username').hide();
				$('.userpassword').hide();
				res = "revokeAll.ard";
			});
			$('#radio2').on('change', function () {
				$('.adminname').show();
				$('.adminpassword').show();
				$('.username').show();
				$('.userpassword').hide();
				res = "revoke.ard"
			});
			$('#radio3').on('change', function () {
				$('.adminname').show();
				$('.adminpassword').show();
				$('.username').show();
				$('.userpassword').show();
				res = "add.ard";
			});
			$('#radio4').on('change', function () {
				$('.adminname').hide();
				$('.adminpassword').hide();
				$('.username').show();
				$('.userpassword').show();
				res = "check.ard";
			});
			
			
			//handle = null;
            $('#submit').click(function () {
                $.ajax({
                    url: res,
                    method: "POST",
                    dataType: "text",
                    data: $('#newsentence').serialize(),
					timeout: 3000,
					success: function (result) {
						console.log("Success:" + result);
						$('#loader').hide();
						$('#open').modal();						
					},
					error: function (result) {
						console.log("Error:" + result);
						$('#loader').hide();
						$('#close').modal();						
					}
                });
                //alert("Sent");                
				$('#loader').show();
            });
        })
    </script>
</body>

</html>